{"version":3,"sources":["visuals/waterfallChartTests.ts"],"names":["powerbitests","powerbitests.getDataViewFromValues","powerbitests.getWarningValue","powerbitests.getBrushExtent","powerbitests.verifyColors","powerbitests.verifyLabels","powerbitests.getFillColor","powerbitests.getRects","powerbitests.getConnectors","powerbitests.getTicks","powerbitests.callCreateLabelDataPoints","powerbitests.WaterfallDataBuilder","powerbitests.WaterfallDataBuilder.constructor","powerbitests.WaterfallDataBuilder.categoryColumn","powerbitests.WaterfallDataBuilder.categoryValues","powerbitests.WaterfallDataBuilder.categoryIdentities","powerbitests.WaterfallDataBuilder.measureColumn","powerbitests.WaterfallDataBuilder.measureValues","powerbitests.WaterfallDataBuilder.positionMax","powerbitests.WaterfallDataBuilder.positionMin","powerbitests.WaterfallDataBuilder.total","powerbitests.WaterfallDataBuilder.dataLabelSettings","powerbitests.WaterfallDataBuilder.objects","powerbitests.WaterfallDataBuilder.sentimentColors","powerbitests.WaterfallDataBuilder.build","powerbitests.WaterfallDataBuilder.withMeasureValues","powerbitests.WaterfallDataBuilder.withCategories","powerbitests.WaterfallDataBuilder.withDataLabels","powerbitests.WaterfallDataBuilder.withLegend","powerbitests.WaterfallVisualBuilder","powerbitests.WaterfallVisualBuilder.constructor","powerbitests.WaterfallVisualBuilder.style","powerbitests.WaterfallVisualBuilder.host","powerbitests.WaterfallVisualBuilder.element","powerbitests.WaterfallVisualBuilder.build","powerbitests.WaterfallVisualBuilder.buildInitOptions","powerbitests.WaterfallVisualBuilder.withSize"],"mappings":"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,gBAAgBA,CAACA,CAACA,CAACA,aAAaA,CAACA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;gBACxEA,MAAMA,CAACA,oBAAOA,CAACA,gBAAgBA,CAACA,CAACA,CAACA,aAAaA,CAACA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;YAC7EA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,+BAA+BA,EAAEA;gBAChCA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBAElDA,QAAQA,CAACA,QAAQA,CAACA,OAAOA,GAAGA;oBACxBA,YAAYA,EAAEA;wBACVA,aAAaA,EAAEA,IAAIA;qBACtBA;oBACDA,SAASA,EAAEA;wBACPA,aAAaA,EAAEA,IAAIA;qBACtBA;iBACJA,CAACA;gBAEFA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,MAAMA,CAACA,CAACA,CAACA,aAAaA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBACxCA,MAAMA,CAACA,CAACA,CAACA,aAAaA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBAExCA,mBAAmBA;gBACnBA,QAAQA,CAACA,QAAQA,CAACA,OAAOA,GAAGA;oBACxBA,YAAYA,EAAEA;wBACVA,aAAaA,EAAEA,KAAKA;qBACvBA;oBACDA,SAASA,EAAEA;wBACPA,aAAaA,EAAEA,KAAKA;qBACvBA;iBACJA,CAACA;gBAEFA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,MAAMA,CAACA,CAACA,CAACA,aAAaA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBACxCA,MAAMA,CAACA,CAACA,C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ACA,UAAUA,CAACA,cAAcA,CAACA,CAACA,CAACA,WAAWA,EAAEA,CAACA;gBACtEA,MAAMA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,cAAcA,CAACA,CAACA,CAACA,WAAWA,EAAEA,CAACA;gBACtEA,MAAMA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,WAAWA,CAACA,CAACA,CAACA,WAAWA,EAAEA,CAACA;YACvEA,CAACA;YAAAJ,CAACA;YAEFA;gBACIK,IAAIA,OAAOA,GAA0CA,CAACA,CAACA,wBAAwBA,CAACA,EAAEA,UAAUA,EAAEA,QAAQA,EAAEA,CAACA,CAACA;gBAC1GA,IAAIA,oBAAoBA,GAAGA,OAAOA,CAACA,OAAOA,CAACA,cAAcA,CAACA,uBAAuBA,CAACA,SAASA,EAAEA,SAASA,CAACA,CAACA;gBAExGA,MAAMA,CAACA,OAAOA,CAACA,SAASA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBACzCA,MAAMA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,CAACA,WAAWA,EAAEA,CAACA;gBAEtDA,IAAIA,UAAUA,GAAGA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA;gBAEjDA,iFAAiFA;gBACjFA,IAAIA,SAASA,GAAGA,oBAAoBA,CAACA,SAASA,KAAKA,OAAOA,CAACA,OAAOA,CAACA,cAAcA,CAACA,qBAAqBA;sBACjGA,oBAAoBA,CAACA,SAASA;sBAC9BA,IAAIA,CAACA;gBAEXA,MAAMA,CAACA,UAAUA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,CAACA,oBAAoBA,CAACA,UAAUA,CAACA,CAACA;gBAClEA,MAAMA,CAACA,UAAUA,CAACA,MAAMA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;gBACvCA,MAAMA,CAACA,UAAUA,CAACA,gBAAgBA,CAACA,CAACA,CAACA,IAAIA,CAACA,SAASA,CAACA,CAACA;gBACrDA,MAAMA,CAACA,UAAUA,CAACA,mBAAmBA,CAACA,CAACA,CAACA,IAAIA,CAACA,oBAAoBA,CAACA,YAAYA,CAACA,CAACA;gBAChFA,MAAMA,CAACA,UAAUA,CAACA,UAAUA,CAACA,CAACA,CAACA,IAAIA,CAACA,oBAAoBA,CAACA,QAAQA,CAACA,CAACA;YACvEA,CAACA;QACLL,CAACA,CAACA,CAACA;QAEHA,QAAQA,CAACA,WAAWA,EAAEA;YAClBA,IAAIA,aAAqCA,CAACA;YAC1CA,IAAIA,WAAiCA,CAACA;YACtCA,IAAIA,CAAkBA,CAACA;YAEvBA,UAAUA,CAACA;gBACPA,aAAaA,GAAGA,IAAIA,sBAAsBA,EAAEA,CAACA;gBAC7CA,WAAWA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA;gBACzCA,CAACA,GAAGA,aAAaA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;YAClCA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,0BAA0BA,EAAEA,UAACA,IAAIA;gBAChCA,IAAIA,QAAQA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,CAACA;gBAEnCA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,OAAOA,GAAGA,EAAEA,CAACA;gBACjBA,IAAIA,IAAIA,GAAGA,WAAWA,CAACA,kBAAkBA,CAACA,CAACA,CAACA,CAACA;gBAC7CA,OAAOA,CAACA,WAAWA,CAACA,cAAcA,CAACA,SAASA,CAACA,GAAGA,IAAIA,CAACA;gBAErDA,UAAUA,CAACA;oBACPA,IAAIA,KAAKA,GAAGA,QAAQA,EAAEA,CAACA;oBACvBA,KAAKA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA,GAAGA,CAACA,WAAWA,EAAEA,CAACA;oBAClDA,KAAKA,CAACA,KAAKA,EAAGA,CAACA,OAAOA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBAEnCA,MAAMA,CAACA,aAAaA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA,oBAAoBA,CACpDA;wBACIA,IAAIA,EAAEA;4BACFA;gCACIA,IAAIA,EAAEA,CAACA,IAAIA,CAACA;6BACfA;yBACJA;wBACDA,KAAKA,EAAEA;4BACHA;gCACIA,OAAOA,EAAEA,OAAOA;6BACnBA;yBACJA;qBACJA,CAACA,CAACA;oBACPA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,0CAA0CA,EAAEA,UAACA,IAAIA;gBAChDA,IAAIA,QAAQA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,CAACA;gBAEnCA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,IAAIA,KAAKA,GAAGA,QAAQA,EAAEA,CAACA;oBACvBA,KAAKA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,UAAUA,CAACA,CAACA,GAAGA,CAACA,WAAWA,EAAEA,CAACA;oBAClDA,KAAKA,CAACA,KAAKA,EAAGA,CAACA,OAAOA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBAEnCA,IAAIA,YAAYA,GAAGA,CAACA,CAACA,eAAeA,CAACA,CAACA;oBAChCA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAAEA,CAACA,OAAOA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;oBAExCA,MAAMA,CAACA,aAAaA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA,oBAAoBA,CACpDA;wBACIA,IAAIA,EAAEA,EAAEA;qBACXA,CAACA,CAACA;oBAEPA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,CAACA,CAACA;YACPA,CAACA,CAACA,CAACA;QACPA,CAACA,CAACA,CAACA;QAEHA,QAAQA,CAACA,WAAWA,EAAEA;YAClBA,IAAIA,CAAkBA,CAACA;YAEvBA,UAAUA,CAACA;gBACPA,CAACA,GAAGA,IAAIA,sBAAsBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;YAC7CA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,uCAAuCA,EAAEA,UAACA,IAAIA;gBAC7CA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBAElDA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,MAAMA,CAACA,CAACA,CAACA,iBAAiBA,CAACA,CAACA,CAACA,SAASA,EAAEA,CAACA;oBAEzCA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,wDAAwDA,EAAEA,UAACA,IAAIA;gBAC9DA,IAAIA,WAAWA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA;gBAC7CA,IAAIA,QAAQA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,CAACA;gBAEnCA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,MAAMA,CAACA,QAAQA,EAAEA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA,cAAcA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;oBAEtEA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,2CAA2CA,EAAEA,UAACA,IAAIA;gBACjDA,IAAIA,YAAYA,GAAGA,SAASA,CAACA;gBAC7BA,IAAIA,YAAYA,GAAGA,SAASA,CAACA;gBAC7BA,IAAIA,SAASA,GAAGA,SAASA,CAACA;gBAE1BA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBAClDA,QAAQA,CAACA,QAAQA,CAACA,OAAOA,GAAGA;oBACxBA,eAAeA,EAAEA;wBACbA,YAAYA,EAAEA,EAAEA,KAAKA,EAAEA,EAAEA,KAAKA,EAAEA,YAAYA,EAAEA,EAAEA;wBAChDA,YAAYA,EAAEA,EAAEA,KAAKA,EAAEA,EAAEA,KAAKA,EAAEA,YAAYA,EAAEA,EAAEA;wBAChDA,SAASA,EAAEA,EAAEA,KAAKA,EAAEA,EAAEA,KAAKA,EAAEA,SAASA,EAAEA,EAAEA;qBAC7CA;iBACJA,CAACA;gBAEFA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,IAAIA,KAAKA,GAAGA,QAAQA,EAAEA,CAACA;oBAEvBA,yCAAyCA;oBAEzCA,oBAAOA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,KAAKA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,EAAEA,YAAYA,CAACA,CAACA;oBACnEA,oBAAOA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,KAAKA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,EAAEA,YAAYA,CAACA,CAACA;oBACnEA,oBAAOA,CAACA,iBAAiBA,CAACA,YAAYA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA,EAAEA,SAASA,CAACA,CAACA;oBAEjEA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,4CAA4CA,EAAEA,UAACA,IAAIA;gBAClDA,IAAIA,WAAWA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA;gBAC7CA,IAAIA,QAAQA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,CAACA;gBAEnCA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,MAAMA,CAACA,aAAaA,EAAEA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA,cAAcA,CAACA,MAAMA,CAACA,CAACA;oBAEvEA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,sCAAsCA,EAAEA,UAACA,IAAIA;gBAC5CA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBAEnEA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,UAAUA,CAACA;oBACPA,MAAMA,CAACA,CAACA,CAACA,uBAAuBA,CAACA,CAACA,CAACA,SAASA,EAAEA,CAACA;oBAC/CA,MAAMA,CAACA,CAACA,CAACA,8BAA8BA,CAACA,CAACA,MAAMA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;oBAEzDA,IAAIA,EAAEA,CAACA;gBACXA,CAACA,EAAEA,iCAAoBA,CAACA,CAACA;YAC7BA,CAACA,CAACA,CAACA;QACPA,CAACA,CAACA,CAACA;QAEHA,QAAQA,CAACA,2BAA2BA,EAAEA;YAClCA,IAAIA,CAAkBA,CAACA;YAEvBA,UAAUA,CAACA;gBACPA,CAACA,GAAGA,IAAIA,sBAAsBA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;YAC7CA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,qCAAqCA,EAAEA;gBACtCA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBACnEA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;gBAC/CA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,CAACA;gBAC7CA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;gBAC/CA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,CAACA;gBAC7CA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,CAACA;gBAC7CA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;YACnDA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,6CAA6CA,EAAEA;gBAC9CA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,EAAEA,CAACA,KAAKA,EAAEA,CAACA;gBACnEA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,iBAAiBA,CAACA,CAACA;gBAC/GA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;YACxHA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,qCAAqCA,EAAEA;gBACtCA,IAAIA,UAAUA,GAAGA,SAASA,CAACA;gBAC3BA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,CAACA,UAAUA,CAACA,CAACA,KAAKA,EAAEA,CAACA;gBAC7EA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,WAAWA,EAAEA,UAAUA,CAACA,CAACA;gBACtEA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;gBACpHA,oBAAOA,CAACA,iBAAiBA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,OAAOA,CAACA,iBAAiBA,CAACA,uBAAuBA,CAACA,CAACA;YACxHA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,8CAA8CA,EAAEA;gBAC/CA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,CAACA,SAASA,EAAEA,IAAIA,EAAEA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA;gBACrFA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAACA;gBACjDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;YACpDA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,0CAA0CA,EAAEA;gBAC3CA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,CAACA,SAASA,EAAEA,SAASA,EAAEA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA;gBAC1FA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBAClDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBAClDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA;gBAChDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;YACtDA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,0CAA0CA,EAAEA;gBAC3CA,IAAIA,QAAQA,GAAGA,EAAEA,CAACA;gBAClBA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,CAACA,SAASA,EAAEA,SAASA,EAAEA,CAACA,EAAEA,QAAQA,CAACA,CAACA,KAAKA,EAAEA,CAACA;gBACpGA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;YAC1DA,CAACA,CAACA,CAACA;YAEHA,EAAEA,CAACA,+CAA+CA,EAAEA;gBAChDA,IAAIA,QAAQA,GAAGA,CAACA,CAACA;gBACjBA,IAAIA,QAAQA,GAAGA,IAAIA,oBAAoBA,EAAEA,CAACA,cAAcA,CAACA,SAASA,EAAEA,SAASA,EAAEA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA;gBAC1FA,CAACA,CAACA,aAAaA,CAACA,EAAEA,SAASA,EAAEA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA;gBAE3CA,IAAIA,eAAeA,GAAGA,yBAAyBA,CAACA,CAACA,CAACA,CAACA;gBACnDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtDA,MAAMA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA;gBACtD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","file":"visuals/waterfallChartTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import WaterfallChart = powerbi.visuals.WaterfallChart;\r\n    import ValueType = powerbi.ValueType;\r\n    import PrimitiveType = powerbi.PrimitiveType;\r\n    import DataViewTransform = powerbi.data.DataViewTransform;\r\n    import SVGUtil = powerbi.visuals.SVGUtil;\r\n    import VisualObjectInstanceEnumerationObject = powerbi.VisualObjectInstanceEnumerationObject;\r\n    import PixelConverter = jsCommon.PixelConverter;\r\n    powerbitests.mocks.setLocale();\r\n\r\n    describe(\"WaterfallChart\", () => {\r\n\r\n        describe(\"capabilities\", () => {\r\n            it(\"should register capabilities\", () => {\r\n                let pluginFactory = powerbi.visuals.visualPluginFactory.create();\r\n                let plugin = pluginFactory.getPlugin(\"waterfallChart\");\r\n                expect(plugin).toBeDefined();\r\n                expect(plugin.capabilities).toBe(powerbi.visuals.waterfallChartCapabilities);\r\n            });\r\n\r\n            it(\"should exist\", () => {\r\n                expect(powerbi.visuals.waterfallChartCapabilities).toBeDefined();\r\n            });\r\n\r\n            it(\"should include dataViewMappings\", () => {\r\n                expect(powerbi.visuals.waterfallChartCapabilities.dataViewMappings).toBeDefined();\r\n            });\r\n\r\n            it(\"Waterfall specifies DataReduction\", () => {\r\n                expect(powerbi.visuals.waterfallChartCapabilities.dataViewMappings[0].categorical.categories.dataReductionAlgorithm).toBeDefined();\r\n            });\r\n\r\n            it(\"should include dataRoles\", () => {\r\n                expect(powerbi.visuals.waterfallChartCapabilities.dataRoles).toBeDefined();\r\n            });\r\n\r\n            it(\"should not support highlight\", () => {\r\n                expect(powerbi.visuals.waterfallChartCapabilities.supportsHighlight).toBeUndefined();\r\n            });\r\n\r\n            it(\"FormatString property should match calculated\", () => {\r\n                expect(powerbi.data.DataViewObjectDescriptors.findFormatString(powerbi.visuals.waterfallChartCapabilities.objects)).toEqual(WaterfallChart.formatStringProp);\r\n            });\r\n        });\r\n\r\n        describe(\"warnings\", () => {\r\n            let v: powerbi.IVisual;\r\n            let warningSpy: jasmine.Spy;\r\n\r\n            beforeEach(() => {\r\n                let builder = new WaterfallVisualBuilder();\r\n\r\n                warningSpy = spyOn(builder.host, 'setWarnings');\r\n\r\n                v = builder.build();\r\n            });\r\n\r\n            it(\"NaN in values shows a warning\", () => {\r\n                let dataView = getDataViewFromValues([200, NaN, 0, 0, 0]);\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(warningSpy).toHaveBeenCalled();\r\n                expect(warningSpy.calls.count()).toBe(1);\r\n                expect(getWarningValue(warningSpy.calls.argsFor(0))).toBe(\"NaNNotSupported\");\r\n            });\r\n\r\n            it(\"negative infinity in values shows a warning\", () => {\r\n                let dataView = getDataViewFromValues([200, Number.NEGATIVE_INFINITY, 0, 0, 0]);\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(warningSpy).toHaveBeenCalled();\r\n                expect(warningSpy.calls.count()).toBe(1);\r\n                expect(getWarningValue(warningSpy.calls.argsFor(0))).toBe(\"InfinityValuesNotSupported\");\r\n            });\r\n\r\n            it(\"postive infinity in values shows a warning\", () => {\r\n                let dataView = getDataViewFromValues([200, Number.POSITIVE_INFINITY, 0, 0, 0]);\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(warningSpy).toHaveBeenCalled();\r\n                expect(warningSpy.calls.count()).toBe(1);\r\n                expect(getWarningValue(warningSpy.calls.argsFor(0))).toBe(\"InfinityValuesNotSupported\");\r\n            });\r\n\r\n            it(\"value out of range in values shows a warning\", () => {\r\n                let dataView = getDataViewFromValues([200, -1e301, 0, 0, 0]);\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(warningSpy).toHaveBeenCalled();\r\n                expect(warningSpy.calls.count()).toBe(1);\r\n                expect(getWarningValue(warningSpy.calls.argsFor(0))).toBe(\"ValuesOutOfRange\");\r\n            });\r\n\r\n            it(\"all okay in values shows no warning\", () => {\r\n                let dataView = getDataViewFromValues([200, 300, 0, 0, 0]);\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(warningSpy).not.toHaveBeenCalled();\r\n            });\r\n\r\n            function getDataViewFromValues(values: any[]): powerbi.DataView {\r\n                let builder = new WaterfallDataBuilder();\r\n\r\n                // NOTE: min/max/total not used here\r\n                return builder.withMeasureValues(values, 0, 0, 0).build();\r\n            }\r\n\r\n            function getWarningValue(args: any[]): string {\r\n                return args[0][0].code;\r\n            }\r\n        });\r\n\r\n        describe(\"axes\", () => {\r\n            let v: powerbi.IVisual;\r\n\r\n            beforeEach(() => {\r\n                v = new WaterfallVisualBuilder().build();\r\n            });\r\n\r\n            it(\"axis titles should be correct \", () => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n                dataView.metadata.objects = {\r\n                    categoryAxis: {\r\n                        showAxisTitle: true\r\n                    },\r\n                    valueAxis: {\r\n                        showAxisTitle: true\r\n                    }\r\n                };\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect(helpers.findElementText($(\".xAxisLabel\").first())).toBe(\"year\");\r\n                expect(helpers.findElementText($(\".yAxisLabel\").first())).toBe(\"sales\");\r\n                //check title\r\n                expect(helpers.findElementTitle($(\".xAxisLabel\").first())).toBe(\"year\");\r\n                expect(helpers.findElementTitle($(\".yAxisLabel\").first())).toBe(\"sales\");\r\n            });\r\n\r\n            it(\"axis titles should show/hide \", () => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                dataView.metadata.objects = {\r\n                    categoryAxis: {\r\n                        showAxisTitle: true\r\n                    },\r\n                    valueAxis: {\r\n                        showAxisTitle: true\r\n                    }\r\n                };\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect($(\".xAxisLabel\").length).toBe(1);\r\n                expect($(\".yAxisLabel\").length).toBe(1);\r\n\r\n                // Hide Axis titles\r\n                dataView.metadata.objects = {\r\n                    categoryAxis: {\r\n                        showAxisTitle: false\r\n                    },\r\n                    valueAxis: {\r\n                        showAxisTitle: false\r\n                    }\r\n                };\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                expect($(\".xAxisLabel\").length).toBe(0);\r\n                expect($(\".yAxisLabel\").length).toBe(0);\r\n            });\r\n\r\n            it(\"zero axis line is darkened\", (done) => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    let zeroTicks = $(\"g.tick:has(line.zero-line)\");\r\n\r\n                    expect(zeroTicks.length).toBe(2);\r\n                    zeroTicks.each((i, item) => expect(d3.select(item).datum() === 0).toBe(true));\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n        });\r\n\r\n        describe(\"data converter\", () => {\r\n            let visualBuilder: WaterfallVisualBuilder;\r\n            let colors: powerbi.IDataColorPalette;\r\n\r\n            let dataBuilder: WaterfallDataBuilder;\r\n\r\n            let data: powerbi.visuals.WaterfallChartData;\r\n            let dataPoints: powerbi.visuals.WaterfallChartDataPoint[];\r\n\r\n            beforeEach(() => {\r\n                visualBuilder = new WaterfallVisualBuilder();\r\n                colors = visualBuilder.style.colorPalette.dataColors;\r\n\r\n                dataBuilder = new WaterfallDataBuilder();\r\n                let dataView = dataBuilder.build();\r\n\r\n                data = WaterfallChart.converter(dataView, colors, visualBuilder.host, dataBuilder.dataLabelSettings, dataBuilder.sentimentColors, /* interactivityService */ null);\r\n                dataPoints = data.series[0].data;\r\n            });\r\n\r\n            it(\"legend should have 3 items\", () => {\r\n                expect(data.legend.dataPoints.length).toBe(3);  // Gain, Loss, Total\r\n            });\r\n\r\n            it(\"has correct positions\", () => {\r\n                // values: [100, -200, 0, 300, null, NaN]\r\n                let positions = [0, 100, -100, -100, 200, 200, 0];  // The last position represents the total and is always 0.\r\n\r\n                expect(dataPoints.map(d => d.position)).toEqual(positions);\r\n                expect(data.positionMin).toBe(dataBuilder.positionMin);\r\n                expect(data.positionMax).toBe(dataBuilder.positionMax);\r\n            });\r\n\r\n            it(\"has correct values\", () => {\r\n                // values: [100, -200, 0, 300, null, NaN]\r\n                let valuesWithTotal = [100, -200, 0, 300, 0, 0, 200];\r\n                expect(dataPoints.map(d => d.value)).toEqual(valuesWithTotal);\r\n                expect(data.positionMin).toBe(dataBuilder.positionMin);\r\n                expect(data.positionMax).toBe(dataBuilder.positionMax);\r\n            });\r\n\r\n            it(\"gain/loss colors match legend\", () => {\r\n                let gainLegend = data.legend.dataPoints[0];\r\n                let lossLegend = data.legend.dataPoints[1];\r\n                expect(dataPoints[0].color).toBe(gainLegend.color);  // first value is a gain\r\n                expect(dataPoints[1].color).toBe(lossLegend.color);  // second value is a loss\r\n            });\r\n\r\n            it(\"should have no highlights\", () => {\r\n                expect(dataPoints.some(d => d.highlight)).toBe(false);\r\n                expect(data.hasHighlights).toBe(false);\r\n            });\r\n\r\n            it(\"should have no selected data points\", () => {\r\n                expect(dataPoints.some(d => d.selected)).toBe(false);\r\n            });\r\n\r\n            it(\"should have tooltip data\", () => {\r\n                // categoryValues: [2015, 2016, 2017, 2018, 2019, 2020]\r\n                // measureValues: [100, -200, 0, 300, null, NaN];\r\n                expect(dataPoints[0].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2015\" }, { displayName: \"sales\", value: \"$100\" }]);\r\n                expect(dataPoints[1].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2016\" }, { displayName: \"sales\", value: \"-$200\" }]);\r\n                expect(dataPoints[2].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2017\" }, { displayName: \"sales\", value: \"$0\" }]);\r\n                expect(dataPoints[3].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2018\" }, { displayName: \"sales\", value: \"$300\" }]);\r\n                expect(dataPoints[4].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2019\" }, { displayName: \"sales\", value: \"$0\" }]);\r\n                expect(dataPoints[5].tooltipInfo).toEqual([{ displayName: \"year\", value: \"2020\" }, { displayName: \"sales\", value: \"$0\" }]);\r\n                expect(dataPoints[6].tooltipInfo).toEqual([{ displayName: \"year\", value: \"Total\" }, { displayName: \"sales\", value: \"$200\" }]);\r\n\r\n            });\r\n\r\n            it(\"validate tooltip info not being created when tooltips are disabled\", () => {\r\n                dataBuilder = new WaterfallDataBuilder();\r\n                let dataView = dataBuilder.build();\r\n                data = WaterfallChart.converter(dataView, colors, visualBuilder.host, dataBuilder.dataLabelSettings, dataBuilder.sentimentColors, /* interactivityService */ null, false);\r\n                dataPoints = data.series[0].data;\r\n\r\n                // categoryValues: [2015, 2016, 2017, 2018, 2019, 2020]\r\n                // measureValues: [100, -200, 0, 300, null, NaN];\r\n                expect(dataPoints[0].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[1].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[2].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[3].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[4].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[5].tooltipInfo).toBeUndefined();\r\n                expect(dataPoints[6].tooltipInfo).toBeUndefined();\r\n            });\r\n\r\n        });\r\n\r\n        describe(\"setData\", () => {\r\n            let chart: WaterfallChart;\r\n\r\n            beforeEach(() => {\r\n                let visualBuilder = new WaterfallVisualBuilder();\r\n                chart = new WaterfallChart({ isScrollable: false, interactivityService: undefined });\r\n                chart.init(visualBuilder.buildInitOptions());\r\n            });\r\n\r\n            it(\"sentiment colors should be set from data object\", () => {\r\n                let increaseFill = \"#000001\";\r\n                let decreaseFill = \"#000002\";\r\n\r\n                let dataView = new WaterfallDataBuilder().build();\r\n                dataView.metadata.objects = {\r\n                    sentimentColors: {\r\n                        increaseFill: { solid: { color: increaseFill } },\r\n                        decreaseFill: { solid: { color: decreaseFill } }\r\n                    }\r\n                };\r\n\r\n                chart.setData([dataView]);\r\n\r\n                let legendData = chart.calculateLegend();\r\n                helpers.assertColorsMatch(legendData.dataPoints[0].color, increaseFill);  // first point is an increase.\r\n                helpers.assertColorsMatch(legendData.dataPoints[1].color, decreaseFill);  // second point is a decrease.\r\n            });\r\n\r\n            it(\"should clear data if passed empty array\", () => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                chart.setData([dataView]);\r\n                expect(chart.calculateLegend().dataPoints.length).not.toBe(0);\r\n\r\n                chart.setData([]);\r\n                expect(chart.calculateLegend().dataPoints.length).toBe(0);\r\n            });\r\n        });\r\n\r\n        describe(\"scrollbars\", () => {\r\n            let v: powerbi.IVisual;\r\n            let element: JQuery;\r\n            let dataBuilder: WaterfallDataBuilder;\r\n\r\n            beforeEach(() => {\r\n                // More data than usual to force scrolling.\r\n                dataBuilder = new WaterfallDataBuilder();\r\n                let dataView = dataBuilder\r\n                    .withMeasureValues([1, 2, 3, 4, -5, 6, 7, -8, -9], 0, 18, 1)\r\n                    .withCategories([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\"])\r\n                    .build();\r\n\r\n                let visualBuilder = new WaterfallVisualBuilder();\r\n\r\n                // Extra small container to force scrolling.\r\n                v = visualBuilder\r\n                    .withSize(150, 50)\r\n                    .build(/* use Minerva to get scrolling behavior */ true);\r\n\r\n                element = visualBuilder.element;\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n            });\r\n\r\n            it(\"DOM validation\", (done) => {\r\n                setTimeout(() => {\r\n                    let brushExtent = getBrushExtent();\r\n\r\n                    expect(brushExtent.length).toBe(1);\r\n\r\n                    let tick = getTicks('x').last();\r\n                    let tickTransform = SVGUtil.parseTranslateTransform(tick.attr('transform'));\r\n\r\n                    expect(parseFloat(tickTransform.x)).toBeLessThan(element.width());\r\n\r\n                    expect(parseFloat(brushExtent.attr(\"width\"))).toBeGreaterThan(1);\r\n                    expect(brushExtent.attr(\"x\")).toBe(\"0\");\r\n\r\n                    v.onResizing({ height: 500, width: 500 });\r\n                    expect($('.brush')).not.toBeInDOM();\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it('background image', (done) => {\r\n                let dataViewMetadata: powerbi.DataViewMetadata = {\r\n                    columns: [\r\n                        {\r\n                            displayName: 'col1',\r\n                            queryName: 'col1',\r\n                            type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Text)\r\n                        }, {\r\n                            displayName: 'col2',\r\n                            queryName: 'col2',\r\n                            isMeasure: true,\r\n                            type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Double)\r\n                        }, {\r\n                            displayName: 'col3',\r\n                            queryName: 'col3',\r\n                            isMeasure: true,\r\n                            type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Double)\r\n                        }, {\r\n                            displayName: 'col4',\r\n                            queryName: 'col4',\r\n                            isMeasure: true,\r\n                            type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Double)\r\n                        }]\r\n                };\r\n\r\n                let metadata = _.cloneDeep(dataViewMetadata);\r\n                metadata.objects = {\r\n                    plotArea: {\r\n                        image: {\r\n                            url: 'data:image/gif;base64,R0lGO',\r\n                            name: 'someName',\r\n                        },\r\n                    },\r\n                };\r\n                v.onDataChanged({\r\n                    dataViews: [{\r\n                        metadata: metadata,\r\n                        categorical: {\r\n                            categories: [{\r\n                                source: dataViewMetadata.columns[0],\r\n                                values: ['a', 'b', 'c', 'd', 'e']\r\n                            }],\r\n                            values: DataViewTransform.createValueColumns([{\r\n                                source: dataViewMetadata.columns[1],\r\n                                values: [500000, 495000, 490000, 480000, 500000],\r\n                                subtotal: 246500\r\n                            }])\r\n                        }\r\n                    }]\r\n                });\r\n                setTimeout(() => {\r\n                    let backgroundImage = $('.waterfallChart .background-image');\r\n                    expect(backgroundImage.length).toBeGreaterThan(0);\r\n                    expect(backgroundImage.css('height')).toBeDefined();\r\n                    expect(backgroundImage.css('width')).toBeDefined();\r\n                    expect(backgroundImage.css('margin-left')).toBeDefined();\r\n                    expect(backgroundImage.css('margin-top')).toBeDefined();\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it('should have correct tick labels after scrolling', (done) => {\r\n                setTimeout(() => {\r\n                    let tickCount = getTicks('x').length;\r\n                    let categoryCount = dataBuilder.categoryValues.length + 1;  // +1 for total\r\n\r\n                    // Scroll so the last ticks are in view.\r\n                    let startIndex = categoryCount - tickCount;\r\n                    let expectedValues = dataBuilder.categoryValues.slice(startIndex);\r\n\r\n                    powerbitests.helpers.runWithImmediateAnimationFrames(() => {\r\n                        (<powerbi.visuals.CartesianChart>v).scrollTo(startIndex);\r\n\r\n                        setTimeout(() => {\r\n                            let tickValues = _.map(getTicks('x').get(), (v) => helpers.findElementText($(v).find('text').first()));\r\n\r\n                            expect(tickValues.slice(0, tickValues.length - 1)).toEqual(expectedValues);\r\n                            expect(_.startsWith(_.last(tickValues), 'T')).toBeTruthy();  // \"Total\" may be truncated\r\n\r\n                            done();\r\n                        }, DefaultWaitForRender);\r\n                    });\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            function getBrushExtent(): JQuery {\r\n                return $('.brush .extent');\r\n            }\r\n        });\r\n\r\n        describe(\"enumerateObjectInstances\", () => {\r\n            let v: powerbi.IVisual;\r\n            let builder: WaterfallVisualBuilder;\r\n\r\n            beforeEach(() => {\r\n                builder = new WaterfallVisualBuilder();\r\n                v = builder.build();\r\n            });\r\n\r\n            it(\"should include labels with empty data\", () => {\r\n                v.onDataChanged({ dataViews: [] });\r\n\r\n                verifyLabels();\r\n            });\r\n\r\n            it(\"should include labels\", () => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n                verifyLabels();\r\n            });\r\n\r\n            it(\"should include sentiment colors with empty data\", () => {\r\n                v.onDataChanged({ dataViews: [] });\r\n\r\n                verifyColors();\r\n            });\r\n\r\n            it(\"should include sentiment colors\", () => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                verifyColors();\r\n            });\r\n\r\n            describe('legend', () => {\r\n                const labelColor: string = \"#002121\";\r\n\r\n                beforeEach(() => {\r\n                    let dataViewGradientMetadata: powerbi.DataViewMetadata = {\r\n                        columns: [\r\n                            { displayName: 'col1' },\r\n                            { displayName: 'col2', isMeasure: true },\r\n                            { displayName: 'col3', isMeasure: true, roles: { 'Gradient': true } }\r\n                        ],\r\n                        objects: {\r\n                            legend:\r\n                            {\r\n                                titleText: 'my title text',\r\n                                show: true,\r\n                                showTitle: true,\r\n                                labelColor: { solid: { color: labelColor } },\r\n                            }\r\n                        }\r\n                    };\r\n\r\n                    v.onDataChanged({\r\n                        dataViews: [{\r\n                            metadata: dataViewGradientMetadata,\r\n                            categorical: {\r\n                                categories: [{\r\n                                    source: dataViewGradientMetadata.columns[0],\r\n                                    values: ['a', 'b', 'c'],\r\n                                    identity: [mocks.dataViewScopeIdentity('a'), mocks.dataViewScopeIdentity('b'), mocks.dataViewScopeIdentity('c')],\r\n                                }],\r\n                                values: DataViewTransform.createValueColumns([{\r\n                                    source: dataViewGradientMetadata.columns[1],\r\n                                    values: [5, 990, 5],\r\n                                }])\r\n                            }\r\n                        }],\r\n                    });\r\n                });\r\n\r\n                it(\"legend title\", () => {\r\n                    let legend = builder.element.find('.legend');\r\n                    let legendGroup = legend.find('#legendGroup');\r\n                    let legendTitle = legendGroup.find('.legendTitle');\r\n\r\n                    helpers.assertColorsMatch(legendTitle.css('fill'), labelColor);\r\n                });\r\n\r\n                it(\"legend items\", () => {\r\n                    let legend = builder.element.find('.legend');\r\n                    let legendGroup = legend.find('#legendGroup');\r\n                    let legendItems = legendGroup.find('.legendItem');\r\n\r\n                    expect(legendItems.length).toBe(3);\r\n\r\n                    let expectedLegendText = ['Increase', 'Decrease', 'Total'];\r\n                    let expectedLegendIconFill = ['rgb(121, 199, 91)', 'rgb(192, 67, 58)', 'rgb(0, 184, 170)'];\r\n\r\n                    for (let i of [0, 1, 2]) {\r\n                        let legendItem = legendItems.eq(i);\r\n                        expect(legendItem.find('.legendText').text()).toBe(expectedLegendText[i]);\r\n                        helpers.assertColorsMatch(legendItem.find('.legendIcon').css('fill'), expectedLegendIconFill[i]);\r\n                    }\r\n                });\r\n            });\r\n\r\n            it(\"check font size for legend title and legend items waterfall chart\", (done) => {\r\n                let labelFontSize = 13;\r\n\r\n                let dataViewGradientMetadata: powerbi.DataViewMetadata = {\r\n                    columns: [\r\n                        { displayName: 'col1' },\r\n                        { displayName: 'col2', isMeasure: true },\r\n                        { displayName: 'col3', isMeasure: true, roles: { 'Gradient': true } }\r\n                    ],\r\n                    objects: {\r\n                        legend:\r\n                        {\r\n                            titleText: 'my title text',\r\n                            show: true,\r\n                            showTitle: true,\r\n                            fontSize: labelFontSize,\r\n                        }\r\n                    }\r\n                };\r\n\r\n                v.onDataChanged({\r\n                    dataViews: [{\r\n                        metadata: dataViewGradientMetadata,\r\n                        categorical: {\r\n                            categories: [{\r\n                                source: dataViewGradientMetadata.columns[0],\r\n                                values: ['a', 'b', 'c'],\r\n                                identity: [mocks.dataViewScopeIdentity('a'), mocks.dataViewScopeIdentity('b'), mocks.dataViewScopeIdentity('c')],\r\n                            }],\r\n                            values: DataViewTransform.createValueColumns([{\r\n                                source: dataViewGradientMetadata.columns[1],\r\n                                values: [5, 990, 5],\r\n                            }])\r\n                        }\r\n                    }],\r\n                });\r\n\r\n                let legend = builder.element.find('.legend');\r\n                let legendGroup = legend.find('#legendGroup');\r\n                let legendTitle = legendGroup.find('.legendTitle');\r\n                let legendText = legendGroup.find('.legendItem').find('.legendText');\r\n\r\n                setTimeout(() => {\r\n                    expect(Math.round(parseInt(legendTitle.css('font-size'), 10))).toBe(Math.round(parseInt(PixelConverter.fromPoint(labelFontSize), 10)));\r\n                    expect(Math.round(parseInt(legendText.css('font-size'), 10))).toBe(Math.round(parseInt(PixelConverter.fromPoint(labelFontSize), 10)));\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            function verifyColors() {\r\n                let objects = <VisualObjectInstanceEnumerationObject>v.enumerateObjectInstances({ objectName: \"sentimentColors\" });\r\n\r\n                expect(objects.instances.length).toBe(1);\r\n                expect(objects.instances[0].properties[\"increaseFill\"]).toBeDefined();\r\n                expect(objects.instances[0].properties[\"decreaseFill\"]).toBeDefined();\r\n                expect(objects.instances[0].properties[\"totalFill\"]).toBeDefined();\r\n            };\r\n\r\n            function verifyLabels() {\r\n                let objects = <VisualObjectInstanceEnumerationObject>v.enumerateObjectInstances({ objectName: \"labels\" });\r\n                let defaultLabelSettings = powerbi.visuals.dataLabelUtils.getDefaultLabelSettings(undefined, undefined);\r\n\r\n                expect(objects.instances.length).toBe(1);\r\n                expect(objects.instances[0].properties).toBeDefined();\r\n\r\n                let properties = objects.instances[0].properties;\r\n                \r\n                // The default value for precision is undefined but in enumerateObject it is null\r\n                let precision = defaultLabelSettings.precision !== powerbi.visuals.dataLabelUtils.defaultLabelPrecision\r\n                    ? defaultLabelSettings.precision\r\n                    : null;\r\n\r\n                expect(properties[\"color\"]).toBe(defaultLabelSettings.labelColor);\r\n                expect(properties[\"show\"]).toBe(false);\r\n                expect(properties[\"labelPrecision\"]).toBe(precision);\r\n                expect(properties[\"labelDisplayUnits\"]).toBe(defaultLabelSettings.displayUnits);\r\n                expect(properties[\"fontSize\"]).toBe(defaultLabelSettings.fontSize);\r\n            }\r\n        });\r\n\r\n        describe(\"selection\", () => {\r\n            let visualBuilder: WaterfallVisualBuilder;\r\n            let dataBuilder: WaterfallDataBuilder;\r\n            let v: powerbi.IVisual;\r\n\r\n            beforeEach(() => {\r\n                visualBuilder = new WaterfallVisualBuilder();\r\n                dataBuilder = new WaterfallDataBuilder();\r\n                v = visualBuilder.build(true);\r\n            });\r\n\r\n            it('should select right data', (done) => {\r\n                let dataView = dataBuilder.build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let dataMap = {};\r\n                let data = dataBuilder.categoryIdentities[0];\r\n                dataMap[dataBuilder.categoryColumn.queryName] = data;\r\n\r\n                setTimeout(() => {\r\n                    let rects = getRects();\r\n                    spyOn(visualBuilder.host, 'onSelect').and.callThrough();\r\n                    (<any>rects.first()).d3Click(0, 0);\r\n\r\n                    expect(visualBuilder.host.onSelect).toHaveBeenCalledWith(\r\n                        {\r\n                            data: [\r\n                                {\r\n                                    data: [data]\r\n                                }\r\n                            ],\r\n                            data2: [\r\n                                {\r\n                                    dataMap: dataMap\r\n                                }\r\n                            ]\r\n                        });\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it('should clear chart on clearCatcher click', (done) => {\r\n                let dataView = dataBuilder.build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    let rects = getRects();\r\n                    spyOn(visualBuilder.host, 'onSelect').and.callThrough();\r\n                    (<any>rects.first()).d3Click(0, 0);\r\n\r\n                    let clearCatcher = $('.clearCatcher');\r\n                    (<any>$(clearCatcher[0])).d3Click(0, 0);\r\n\r\n                    expect(visualBuilder.host.onSelect).toHaveBeenCalledWith(\r\n                        {\r\n                            data: []\r\n                        });\r\n\r\n                    done();\r\n                });\r\n            });\r\n        });\r\n\r\n        describe(\"basic DOM\", () => {\r\n            let v: powerbi.IVisual;\r\n\r\n            beforeEach(() => {\r\n                v = new WaterfallVisualBuilder().build();\r\n            });\r\n\r\n            it(\"should create waterfall chart element\", (done) => {\r\n                let dataView = new WaterfallDataBuilder().build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    expect($(\".waterfallChart\")).toBeInDOM();\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it(\"should have a rect for each category and one for total\", (done) => {\r\n                let dataBuilder = new WaterfallDataBuilder();\r\n                let dataView = dataBuilder.build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    expect(getRects().length).toBe(dataBuilder.categoryValues.length + 1);\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it(\"rect colors should match sentiment colors\", (done) => {\r\n                let increaseFill = \"#000001\";\r\n                let decreaseFill = \"#000002\";\r\n                let totalFill = \"#000002\";\r\n\r\n                let dataView = new WaterfallDataBuilder().build();\r\n                dataView.metadata.objects = {\r\n                    sentimentColors: {\r\n                        increaseFill: { solid: { color: increaseFill } },\r\n                        decreaseFill: { solid: { color: decreaseFill } },\r\n                        totalFill: { solid: { color: totalFill } }\r\n                    }\r\n                };\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    let rects = getRects();\r\n\r\n                    // values: [100, -200, 0, 300, null, NaN]\r\n\r\n                    helpers.assertColorsMatch(getFillColor(rects.eq(0)), increaseFill);\r\n                    helpers.assertColorsMatch(getFillColor(rects.eq(1)), decreaseFill);\r\n                    helpers.assertColorsMatch(getFillColor(rects.last()), totalFill);\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it(\"should have connecting lines between rects\", (done) => {\r\n                let dataBuilder = new WaterfallDataBuilder();\r\n                let dataView = dataBuilder.build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    expect(getConnectors().length).toBe(dataBuilder.categoryValues.length);\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n\r\n            it(\"should draw data labels when enabled\", (done) => {\r\n                let dataView = new WaterfallDataBuilder().withDataLabels().build();\r\n\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                setTimeout(() => {\r\n                    expect($(\".labelGraphicsContext\")).toBeInDOM();\r\n                    expect($(\".labelGraphicsContext .label\").length).toBe(7);\r\n\r\n                    done();\r\n                }, DefaultWaitForRender);\r\n            });\r\n        });\r\n\r\n        describe(\"label data point creation\", () => {\r\n            let v: powerbi.IVisual;\r\n\r\n            beforeEach(() => {\r\n                v = new WaterfallVisualBuilder().build();\r\n            });\r\n\r\n            it(\"Label data points have correct text\", () => {\r\n                let dataView = new WaterfallDataBuilder().withDataLabels().build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                expect(labelDataPoints[0].text).toEqual(\"100\");\r\n                expect(labelDataPoints[1].text).toEqual(\"-200\");\r\n                expect(labelDataPoints[2].text).toEqual(\"0\");\r\n                expect(labelDataPoints[3].text).toEqual(\"300\");\r\n                expect(labelDataPoints[4].text).toEqual(\"0\");\r\n                expect(labelDataPoints[5].text).toEqual(\"0\");\r\n                expect(labelDataPoints[6].text).toEqual(\"200\");\r\n            });\r\n\r\n            it(\"Label data points have correct default fill\", () => {\r\n                let dataView = new WaterfallDataBuilder().withDataLabels().build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                helpers.assertColorsMatch(labelDataPoints[0].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[1].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[2].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[3].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[4].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[5].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[6].outsideFill, powerbi.visuals.NewDataLabelUtils.defaultLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[0].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[1].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[2].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[3].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[4].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[5].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[6].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n            });\r\n\r\n            it(\"Label data points have correct fill\", () => {\r\n                let labelColor = \"#007700\";\r\n                let dataView = new WaterfallDataBuilder().withDataLabels(labelColor).build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                helpers.assertColorsMatch(labelDataPoints[0].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[1].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[2].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[3].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[4].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[5].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[6].outsideFill, labelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[0].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[1].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[2].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[3].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[4].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[5].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n                helpers.assertColorsMatch(labelDataPoints[6].insideFill, powerbi.visuals.NewDataLabelUtils.defaultInsideLabelColor);\r\n            });\r\n\r\n            it(\"Label data points have correct display units\", () => {\r\n                let dataView = new WaterfallDataBuilder().withDataLabels(undefined, 1000, 1).build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                expect(labelDataPoints[0].text).toEqual(\"0.1K\");\r\n                expect(labelDataPoints[1].text).toEqual(\"-0.2K\");\r\n                expect(labelDataPoints[2].text).toEqual(\"0.0K\");\r\n                expect(labelDataPoints[3].text).toEqual(\"0.3K\");\r\n                expect(labelDataPoints[4].text).toEqual(\"0.0K\");\r\n                expect(labelDataPoints[5].text).toEqual(\"0.0K\");\r\n                expect(labelDataPoints[6].text).toEqual(\"0.2K\");\r\n            });\r\n\r\n            it(\"Label data points have correct precision\", () => {\r\n                let dataView = new WaterfallDataBuilder().withDataLabels(undefined, undefined, 2).build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                expect(labelDataPoints[0].text).toEqual(\"100.00\");\r\n                expect(labelDataPoints[1].text).toEqual(\"-200.00\");\r\n                expect(labelDataPoints[2].text).toEqual(\"0.00\");\r\n                expect(labelDataPoints[3].text).toEqual(\"300.00\");\r\n                expect(labelDataPoints[4].text).toEqual(\"0.00\");\r\n                expect(labelDataPoints[5].text).toEqual(\"0.00\");\r\n                expect(labelDataPoints[6].text).toEqual(\"200.00\");\r\n            });\r\n\r\n            it(\"Label data points have correct text size\", () => {\r\n                let textSize = 20;\r\n                let dataView = new WaterfallDataBuilder().withDataLabels(undefined, undefined, 2, textSize).build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                expect(labelDataPoints[0].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[1].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[2].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[3].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[4].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[5].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[6].fontSize).toEqual(textSize);\r\n            });\r\n\r\n            it(\"Label data points draw with default text size\", () => {\r\n                let textSize = 9;\r\n                let dataView = new WaterfallDataBuilder().withDataLabels(undefined, undefined, 2).build();\r\n                v.onDataChanged({ dataViews: [dataView] });\r\n\r\n                let labelDataPoints = callCreateLabelDataPoints(v);\r\n                expect(labelDataPoints[0].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[1].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[2].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[3].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[4].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[5].fontSize).toEqual(textSize);\r\n                expect(labelDataPoints[6].fontSize).toEqual(textSize);\r\n            });\r\n        });\r\n\r\n        function getFillColor(element: JQuery): string {\r\n            return element.css(\"fill\");\r\n        }\r\n\r\n        function getRects(): JQuery {\r\n            return $(\".waterfallChart .mainGraphicsContext rect.column\");\r\n        }\r\n\r\n        function getConnectors(): JQuery {\r\n            return $(\".waterfallChart .mainGraphicsContext line.waterfall-connector\");\r\n        }\r\n\r\n        function getTicks(axis: string): JQuery {\r\n            // axis should be either 'x' or 'y'.\r\n            return $('.waterfallChart .axisGraphicsContext .' + axis + '.axis .tick');\r\n        }\r\n\r\n        function callCreateLabelDataPoints(v: powerbi.IVisual): powerbi.LabelDataPoint[] {\r\n            return (<any>v).layers[0].createLabelDataPoints();\r\n        }\r\n    });\r\n\r\n    class WaterfallDataBuilder {\r\n        private _categoryColumn: powerbi.DataViewMetadataColumn = { displayName: \"year\", type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Text), queryName: \"Year.Year\" };\r\n        public get categoryColumn(): powerbi.DataViewMetadataColumn { return this._categoryColumn; }\r\n\r\n        private _categoryValues: any[] = [2015, 2016, 2017, 2018, 2019, 2020];\r\n        public get categoryValues(): any[] { return this._categoryValues; }\r\n\r\n        private _categoryIdentities: powerbi.DataViewScopeIdentity[] = this.categoryValues.map((v) => mocks.dataViewScopeIdentity(v));\r\n        public get categoryIdentities(): powerbi.DataViewScopeIdentity[] { return this._categoryIdentities; }\r\n\r\n        private _measureColumn: powerbi.DataViewMetadataColumn = { displayName: \"sales\", isMeasure: true, type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Integer), objects: { general: { formatString: \"$0\" } } };\r\n        public get measureColumn(): powerbi.DataViewMetadataColumn { return this._measureColumn; }\r\n\r\n        private _measureValues: any[] = [100, -200, 0, 300, null, NaN];\r\n        public get measureValues(): any[] { return this._measureValues; }\r\n\r\n        private _posMax = 200;\r\n        public get positionMax(): number { return this._posMax; }\r\n\r\n        private _posMin = -100;\r\n        public get positionMin(): number { return this._posMin; }\r\n\r\n        private _total = 200;\r\n        public get total(): number { return this._total; }\r\n\r\n        private _dataLabelSettings: powerbi.visuals.VisualDataLabelsSettings = powerbi.visuals.dataLabelUtils.getDefaultLabelSettings();\r\n        public get dataLabelSettings(): powerbi.visuals.VisualDataLabelsSettings { return this._dataLabelSettings; }\r\n\r\n        private _objects: powerbi.DataViewObjects;\r\n        public get objects(): powerbi.DataViewObjects { return this._objects; }\r\n\r\n        private _sentimentColors: powerbi.visuals.WaterfallChartSentimentColors = {\r\n            increaseFill: <powerbi.Fill>{\r\n                solid: { color: \"#FF0000\" }\r\n            },\r\n            decreaseFill: <powerbi.Fill>{\r\n                solid: { color: \"#00FF00\" }\r\n            },\r\n            totalFill: <powerbi.Fill>{\r\n                solid: { color: \"#0000FF\" }\r\n            }\r\n        };\r\n        public get sentimentColors(): powerbi.visuals.WaterfallChartSentimentColors { return this._sentimentColors; }\r\n\r\n        public build(): powerbi.DataView {\r\n            return <powerbi.DataView>{\r\n                metadata: {\r\n                    columns: [this._categoryColumn, this._measureColumn],\r\n                    objects: this._objects,\r\n                },\r\n                categorical: {\r\n                    categories: [{\r\n                        source: this._categoryColumn,\r\n                        values: this._categoryValues,\r\n                        identity: this._categoryIdentities\r\n                    }],\r\n                    values: DataViewTransform.createValueColumns([{\r\n                        source: this._measureColumn,\r\n                        values: this._measureValues\r\n                    }])\r\n                }\r\n            };\r\n        }\r\n\r\n        public withMeasureValues(values: any[], posMin: number, posMax: number, total: number): WaterfallDataBuilder {\r\n            this._measureValues = values;\r\n            this._posMin = posMin;\r\n            this._posMax = posMax;\r\n            this._total = total;\r\n\r\n            return this;\r\n        }\r\n\r\n        public withCategories(categories: any[]): WaterfallDataBuilder {\r\n            this._categoryValues = categories;\r\n            this._categoryIdentities = this._categoryValues.map((v) => mocks.dataViewScopeIdentity(v));\r\n\r\n            return this;\r\n        }\r\n\r\n        public withDataLabels(color?: string, labelDisplayUnits?: number, labelPrecision?: number, fontSize?: number): WaterfallDataBuilder {\r\n            if (!this._objects) {\r\n                this._objects = {};\r\n            }\r\n            this._objects[\"labels\"] = <powerbi.visuals.DataLabelObject>{\r\n                show: true,\r\n                color: { solid: { color: color } },\r\n                labelDisplayUnits: labelDisplayUnits,\r\n                labelPosition: undefined,\r\n                labelPrecision: labelPrecision,\r\n                fontSize: fontSize,\r\n            };\r\n            return this;\r\n        };\r\n\r\n        public withLegend(fontSize?: number): WaterfallDataBuilder {\r\n            if (!this._objects) {\r\n                this._objects = {};\r\n            }\r\n            this._objects[\"legend\"] = {\r\n                show: true,\r\n                fontSize: fontSize,\r\n            };\r\n            return this;\r\n        };\r\n    }\r\n\r\n    class WaterfallVisualBuilder {\r\n        private _style: powerbi.IVisualStyle = powerbi.visuals.visualStyles.create();\r\n        public get style(): powerbi.IVisualStyle { return this._style; }\r\n\r\n        private _host: powerbi.IVisualHostServices = mocks.createVisualHostServices();\r\n        public get host(): powerbi.IVisualHostServices { return this._host; }\r\n\r\n        private _svg: D3.Selection = d3.select($(\"<svg/>\").get(0));\r\n        private _viewport: powerbi.IViewport = {\r\n            height: 500,\r\n            width: 500\r\n        };\r\n\r\n        private _element: JQuery = powerbitests.helpers.testDom(\"500\", \"500\");\r\n        public get element(): JQuery { return this._element; }\r\n\r\n        private _cartesianHost: powerbi.visuals.ICartesianVisualHost = {\r\n            updateLegend: data => { },\r\n            getSharedColors: () => null,\r\n            triggerRender: (suppressAnimations: boolean) => { },\r\n        };\r\n\r\n        private _visual: powerbi.IVisual;\r\n\r\n        public build(minerva: boolean = false): powerbi.IVisual {\r\n            if (minerva) {\r\n                this._visual = powerbi.visuals.visualPluginFactory.createMinerva({}).getPlugin(\"waterfallChart\").create();\r\n            }\r\n            else {\r\n                this._visual = powerbi.visuals.visualPluginFactory.create().getPlugin(\"waterfallChart\").create();\r\n            }\r\n\r\n            this._visual.init(this.buildInitOptions());\r\n\r\n            return this._visual;\r\n        }\r\n\r\n        public buildInitOptions(): powerbi.visuals.CartesianVisualInitOptions {\r\n            return <powerbi.visuals.CartesianVisualInitOptions>{\r\n                element: this._element,\r\n                host: this._host,\r\n                style: this._style,\r\n                viewport: this._viewport,\r\n                interactivity: { isInteractiveLegend: false, selection: true },\r\n                animation: { transitionImmediate: true },\r\n                svg: this._svg,\r\n                cartesianHost: this._cartesianHost\r\n            };\r\n        }\r\n\r\n        public withSize(width: number, height: number): WaterfallVisualBuilder {\r\n            this._element = powerbitests.helpers.testDom(height.toString(), width.toString());\r\n            this._viewport = {\r\n                width: width,\r\n                height: height\r\n            };\r\n\r\n            return this;\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}