{"version":3,"sources":["common/urlUtilsTests.ts"],"names":["powerbitests"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;GAwBG;AAIH,IAAO,YAAY,CA4GlB;AA5GD,WAAO,YAAY,EAAC,CAAC;IACjBA,IAAOA,QAAQA,GAAGA,QAAQA,CAACA,QAAQA,CAACA;IAEpCA,QAAQA,CAACA,qBAAqBA,EAAEA;QAC5BA,EAAEA,CAACA,iBAAiBA,EAAEA;YAClBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QAClDA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,iBAAiBA,EAAEA;YAClBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,0BAA0BA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QACvEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,kBAAkBA,EAAEA;YACnBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,2BAA2BA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QACxEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,kBAAkBA,EAAEA;YACnBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,2BAA2BA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QACxEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,oBAAoBA,EAAEA;YACrBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,0BAA0BA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QACxEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,cAAcA,EAAEA;YACfA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QAChDA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,gBAAgBA,EAAEA;YACjBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,qBAAqBA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QAClEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,iBAAiBA,EAAEA;YAClBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,sBAAsBA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QACnEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,gBAAgBA,EAAEA;YACjBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,0BAA0BA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QACxEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,sBAAsBA,EAAEA;YACvBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,cAAcA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QAC5DA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,SAASA,EAAEA;YACVA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,oBAAoBA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QAClEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,iBAAiBA,EAAEA;YAClBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,oBAAoBA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QAClEA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,kBAAkBA,EAAEA;YACnBA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,CAACA,2BAA2BA,CAACA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QACzEA,CAACA,CAACA,CAACA;IACPA,CAACA,CAACA,CAACA;IAGHA,QAAQA,CAACA,iCAAiCA,EAAEA;QACxCA,EAAEA,CAACA,aAAaA,EAAEA;YACdA,MAAMA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,IAAIA,CAACA,CAACA,CAACA,OAAOA,CAACA,EAAEA,CAACA,CAACA;QACxDA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,cAAcA,EAAEA;YACfA,MAAMA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,EAAEA,CAACA,CAACA,CAACA,OAAOA,CAACA,EAAEA,CAACA,CAACA;QACtDA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,UAAUA,EAAEA;YACXA,MAAMA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,6BAA6BA,CAACA,CAACA,CAACA,OAAOA,CAACA;gBACrEA;oBACIA,KAAKA,EAAEA,CAACA;oBACRA,GAAGA,EAAEA,EAAEA;oBACPA,IAAIA,EAAEA,qBAAqBA;iBAC9BA;aACJA,CAACA,CAACA;QACPA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,WAAWA,EAAEA;YACZA,MAAMA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,8BAA8BA,CAACA,CAACA,CAACA,OAAOA,CAACA;gBACtEA;oBACIA,KAAKA,EAAEA,CAACA;oBACRA,GAAGA,EAAEA,EAAEA;oBACPA,IAAIA,EAAEA,sBAAsBA;iBAC/BA;aACJA,CAACA,CAACA;QACPA,CAACA,CAACA,CAACA;QAEHA,EAAEA,CAACA,WAAWA,EAAEA;YACZA,MAAMA,CAACA,QAAQA,CAACA,gBAAgBA,CAACA,oGAAoGA,CAACA,CAACA,CAACA,OAAOA,CAACA;gBAC5IA;oBACIA,KAAKA,EAAEA,EAAEA;oBACTA,GAAGA,EAAEA,EAAEA;oBACPA,IAAIA,EAAEA,sBAAsBA;iBAC/BA;gBACDA;oBACIA,KAAKA,EAAEA,EAAEA;oBACTA,GAAGA,EAAEA,EAAEA;oBACPA,IAAIA,EAAEA,uBAAuBA;iBAChCA;gBACDA;oBACIA,KAAKA,EAAEA,EAAEA;oBACTA,GAAGA,EAAEA,EAAEA;oBACPA,IAAIA,EAAEA,sBAAsBA;iBAC/BA;aACJA,CAACA,CAACA;QACPA,CAACA,CAACA,CAACA;IACPA,CAACA,CAACA,CAACA;AAEPA,CAACA,EA5GM,YAAY,KAAZ,YAAY,QA4GlB","file":"common/urlUtilsTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import UrlUtils = jsCommon.UrlUtils;\r\n\r\n    describe(\"UrlUtils isValidUrl\", () => {\r\n        it(\"isValidUrl null\", () => {\r\n            expect(UrlUtils.isValidUrl(null)).toBe(false);\r\n        });\r\n\r\n        it(\"isValidUrl http\", () => {\r\n            expect(UrlUtils.isValidUrl(\"http://www.microsoft.com\")).toBe(true);\r\n        });\r\n\r\n        it(\"isValidUrl https\", () => {\r\n            expect(UrlUtils.isValidUrl(\"https://www.microsoft.com\")).toBe(true);\r\n        });\r\n\r\n        it(\"isValidUrl HTTPS\", () => {\r\n            expect(UrlUtils.isValidUrl(\"HTTPS://WWW.MICROSOFT.COM\")).toBe(true);\r\n        });\r\n\r\n        it(\"isValidUrl dataUri\", () => {\r\n            expect(UrlUtils.isValidUrl(\"data://www.microsoft.com\")).toBe(false);\r\n        });\r\n\r\n        it(\"empty string\", () => {\r\n            expect(UrlUtils.isValidUrl('')).toBe(false);\r\n        });\r\n\r\n        it(\"valid http url\", () => {\r\n            expect(UrlUtils.isValidUrl('http://www.bing.com')).toBe(true);\r\n        });\r\n\r\n        it(\"valid https url\", () => {\r\n            expect(UrlUtils.isValidUrl('https://www.bing.com')).toBe(true);\r\n        });\r\n\r\n        it(\"url after text\", () => {\r\n            expect(UrlUtils.isValidUrl('foo https://www.bing.com')).toBe(false);\r\n        });\r\n\r\n        it(\"url without protocol\", () => {\r\n            expect(UrlUtils.isValidUrl('www.bing.com')).toBe(false);\r\n        });\r\n\r\n        it(\"ftp url\", () => {\r\n            expect(UrlUtils.isValidUrl('ftp://www.bing.com')).toBe(false);\r\n        });\r\n\r\n        it(\"javascript void\", () => {\r\n            expect(UrlUtils.isValidUrl('javascript:void(0)')).toBe(false);\r\n        });\r\n\r\n        it(\"javascript alert\", () => {\r\n            expect(UrlUtils.isValidUrl('javascript:alert(\"Hello\")')).toBe(false);\r\n        });\r\n    });\r\n\r\n\r\n    describe(\"UrlUtils.findAllValidUrls tests\", () => {\r\n        it(\"null string\", () => {\r\n            expect(UrlUtils.findAllValidUrls(null)).toEqual([]);\r\n        });\r\n\r\n        it(\"empty string\", () => {\r\n            expect(UrlUtils.findAllValidUrls('')).toEqual([]);\r\n        });\r\n\r\n        it(\"http url\", () => {\r\n            expect(UrlUtils.findAllValidUrls('foo http://www.bing.com bar')).toEqual([\r\n                {\r\n                    start: 4,\r\n                    end: 23,\r\n                    text: 'http://www.bing.com',\r\n                }\r\n            ]);\r\n        });\r\n\r\n        it(\"https url\", () => {\r\n            expect(UrlUtils.findAllValidUrls('foo https://www.bing.com bar')).toEqual([\r\n                {\r\n                    start: 4,\r\n                    end: 24,\r\n                    text: 'https://www.bing.com',\r\n                }\r\n            ]);\r\n        });\r\n\r\n        it(\"many urls\", () => {\r\n            expect(UrlUtils.findAllValidUrls('this text http://www.bing1.com has many https://www.bing2.com urls throughout http://www.bing3.com')).toEqual([\r\n                {\r\n                    start: 10,\r\n                    end: 30,\r\n                    text: 'http://www.bing1.com',\r\n                },\r\n                {\r\n                    start: 40,\r\n                    end: 61,\r\n                    text: 'https://www.bing2.com',\r\n                },\r\n                {\r\n                    start: 78,\r\n                    end: 98,\r\n                    text: 'http://www.bing3.com',\r\n                }\r\n            ]);\r\n        });\r\n    });\r\n\r\n}"],"sourceRoot":"/source/"}