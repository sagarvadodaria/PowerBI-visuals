{"version":3,"sources":["visuals/common/visualBackgroundHelperTests.ts"],"names":["powerbitests"],"mappings":"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","file":"visuals/common/visualBackgroundHelperTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import visuals = powerbi.visuals;\r\n    import imageScalingType = visuals.imageScalingType;\r\n    import visualBackgroundHelper = visuals.visualBackgroundHelper;\r\n    import ObjectEnumerationBuilder = visuals.ObjectEnumerationBuilder;\r\n    import VisualObjectInstance = powerbi.VisualObjectInstance;\r\n    \r\n    //import VisualObjectInstanceContainer = powerbi.VisualObjectInstanceContainer;\r\n\r\n    describe(\"VisualBackgroundHelper\", () => {\r\n        describe(\"enumeratePlot\", () => {\r\n            it('featureSwitch on', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                visualBackgroundHelper.enumeratePlot(enumeration, {}, false);\r\n                expect(enumeration.complete()).toBeUndefined();\r\n            });\r\n\r\n            it('default background', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: undefined,\r\n                        transparency: visualBackgroundHelper.getDefaultTransparency(),\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, /* background */ undefined, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('default background image', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = { };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: undefined,\r\n                        transparency: visualBackgroundHelper.getDefaultTransparency(),\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('image', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'someUrl',\r\n                        name: 'someName',\r\n                    },\r\n                };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: {\r\n                            url: 'someUrl',\r\n                            name: 'someName',\r\n                        },\r\n                        transparency: visualBackgroundHelper.getDefaultTransparency(),\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('transparency', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = {\r\n                    transparency: 20,\r\n                };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: undefined,\r\n                        transparency: 20,\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('transparency (zero)', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = {\r\n                    transparency: 0,\r\n                };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: undefined,\r\n                        transparency: 0,\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('all together', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'someUrl',\r\n                        name: 'someName',\r\n                        scaling: imageScalingType.fit,\r\n                    },\r\n                    transparency: 20,\r\n\r\n                };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    selector: null,\r\n                    properties: {\r\n                        image: {\r\n                            url: 'someUrl',\r\n                            name: 'someName',\r\n                            scaling: imageScalingType.fit,\r\n                        },\r\n                        transparency: 20,\r\n                    },\r\n                    objectName: 'plotArea',\r\n                };\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete()).toEqual({\r\n                    instances: [instance],\r\n                });\r\n            });\r\n\r\n            it('adding to instance', () => {\r\n                let enumeration = new ObjectEnumerationBuilder();\r\n                let background: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'someUrl',\r\n                        name: 'someName',\r\n                        scaling: 'fit'\r\n                    },\r\n                    transparency: 20,\r\n\r\n                };\r\n\r\n                let instance: VisualObjectInstance = {\r\n                    objectName: 'myObject',\r\n                    selector: null,\r\n                    properties: {\r\n                        'myProperty': 123,\r\n                    },\r\n                };\r\n\r\n                enumeration.pushInstance(instance);\r\n                visualBackgroundHelper.enumeratePlot(enumeration, background, true);\r\n                expect(enumeration.complete().instances.length).toBe(2);\r\n            });\r\n        });\r\n\r\n        describe(\"renderBackgroundImage\", () => {\r\n            const plotArea: powerbi.visuals.IRect = {\r\n                top: 0,\r\n                left: 0,\r\n                width: 100,\r\n                height: 100,\r\n            };\r\n\r\n            let element: JQuery;\r\n\r\n            beforeEach(() => {\r\n                element = $('<div class=\"visual-element\"></div>');\r\n            });\r\n\r\n            it('create and remove background element', () => {\r\n                // Create element\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                    },\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                expect(element.children('.background-image').length).toBe(1);\r\n\r\n                // resend the data and check if another element is added\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n                expect(element.children('.background-image').length).toBe(1);\r\n\r\n                // Remove element\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    {},\r\n                    element,\r\n                    plotArea);\r\n                expect(element.children('.background-image').length).toBe(0);\r\n            });\r\n\r\n            it('imageUrl', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                    },\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('background-image')).toBe('url(data:image/gif;base64,R0lGO)');\r\n                expect(resultElement.css('background-repeat')).toBe('no-repeat');\r\n                expect(resultElement.css('opacity')).toBe('1');\r\n                expect(resultElement.css('background-size')).toBe('');\r\n                expect(resultElement.css('background-position')).toBe('50% 50%');\r\n            });\r\n\r\n            it('image fit - normal', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                        scaling: imageScalingType.normal,\r\n                    },\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('background-image')).toBe('url(data:image/gif;base64,R0lGO)');\r\n                expect(resultElement.css('background-repeat')).toBe('no-repeat');\r\n                expect(resultElement.css('opacity')).toBe('1');\r\n                expect(resultElement.css('background-size')).toBe('');\r\n                expect(resultElement.css('background-position')).toBe('50% 50%');\r\n            });\r\n\r\n            it('image fit - fit', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                        scaling: imageScalingType.fit,\r\n                    },\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('background-image')).toBe('url(data:image/gif;base64,R0lGO)');\r\n                expect(resultElement.css('background-repeat')).toBe('no-repeat');\r\n                expect(resultElement.css('opacity')).toBe('1');\r\n\r\n                // This background-size test will pass on the browser but does not work on the console\r\n                // Because of phantomJS probably\r\n                //expect(resultElement.css('background-size')).toBe('100% 100%');\r\n                expect(resultElement.css('background-position')).toBe('');\r\n            });\r\n\r\n            it('image fit - fill', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                        scaling: imageScalingType.fill,\r\n                    },\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('background-image')).toBe('url(data:image/gif;base64,R0lGO)');\r\n                expect(resultElement.css('background-repeat')).toBe('no-repeat');\r\n                expect(resultElement.css('opacity')).toBe('1');\r\n                expect(resultElement.css('background-size')).toBe('100%');\r\n                expect(resultElement.css('background-position')).toBe('50% 50%');\r\n            });\r\n\r\n            it('transparency', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                    },\r\n                    transparency: 20,\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    plotArea);\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('background-image')).toBe('url(data:image/gif;base64,R0lGO)');\r\n                expect(resultElement.css('background-repeat')).toBe('no-repeat');\r\n                expect(resultElement.css('opacity')).toBe('0.8');\r\n            });\r\n\r\n            it('size & position', () => {\r\n                let backgroundData: visuals.VisualBackground = {\r\n                    image: {\r\n                        url: 'data:image/gif;base64,R0lGO',\r\n                        name: 'someName',\r\n                    },\r\n                    transparency: 20,\r\n                };\r\n                visualBackgroundHelper.renderBackgroundImage(\r\n                    backgroundData,\r\n                    element,\r\n                    {\r\n                        top: 20,\r\n                        left: 30,\r\n                        width: 40,\r\n                        height: 50,\r\n                    });\r\n\r\n                let resultElement = element.children('.background-image');\r\n                expect(resultElement.css('margin-top')).toBe('20px');\r\n                expect(resultElement.css('margin-left')).toBe('30px');\r\n                expect(resultElement.css('width')).toBe('40px');\r\n                expect(resultElement.css('height')).toBe('50px');\r\n            });\r\n        });\r\n    });\r\n}"],"sourceRoot":"/source/"}