{"version":3,"sources":["visuals/common/svgUtilTests.ts"],"names":["powerbitests"],"mappings":"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","file":"visuals/common/svgUtilTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import SVGUtil = powerbi.visuals.SVGUtil;\r\n    \r\n    describe(\"SvgUtil tests\", () => {\r\n        it(\"validate the pie chart transform parsing logic for Chrome\", () => {\r\n            let transform = \"translate(110.21,46.5)\";\r\n            let parsedTransform = SVGUtil.parseTranslateTransform(transform);\r\n    \r\n            expect(parsedTransform.x).toBe(\"110.21\");\r\n            expect(parsedTransform.y).toBe(\"46.5\");\r\n        });\r\n    \r\n        it(\"validate the pie chart transform parsing logic for IE\", () => {\r\n            let transform = \"translate(110.6 34.56)\";\r\n            let parsedTransform = SVGUtil.parseTranslateTransform(transform);\r\n    \r\n            expect(parsedTransform.x).toBe(\"110.6\");\r\n            expect(parsedTransform.y).toBe(\"34.56\");\r\n        });\r\n    \r\n        it(\"validate transform parsing logic with no y value\", () => {\r\n            let transform = \"translate(110.6)\";\r\n            let parsedTransform = SVGUtil.parseTranslateTransform(transform);\r\n    \r\n            expect(parsedTransform.x).toBe(\"110.6\");\r\n            expect(parsedTransform.y).toBe(\"0\");\r\n        });\r\n\r\n        it(\"get transform scale ratios under parent scope\", (done) => {\r\n            let jqDiv = powerbitests.helpers.testDom('500', '500');\r\n            jqDiv.css('transform', 'scale(0.75,0.5)');\r\n            let svg = d3.select(jqDiv[0]).append('svg').attr({\r\n                width: 350,\r\n                height: 200,\r\n            }).style(\"position\", \"absolute\");\r\n            let g = svg.append('g'); //the axisGraphicsContext\r\n            g.append('rect').attr({\r\n                x: 0, y: 200, width: 350, height: 80,\r\n            }).style(\"fill\", \"red\"); //this rect is simulating the x-axis which fills the <svg> parent\r\n            g.append('rect').attr({\r\n                x: 0, y: 200, width: 80, height: 200,\r\n            }).style(\"fill\", \"red\"); //this rect is simulating the y-axis...\r\n\r\n            setTimeout(() => {\r\n                let ratios = SVGUtil.getTransformScaleRatios(<SVGSVGElement>svg.node());\r\n                expect(ratios.x).toBe(0.75);\r\n                expect(ratios.y).toBe(0.5);\r\n                done();\r\n            }, 10);\r\n        });\r\n    });\r\n}"],"sourceRoot":"/source/"}