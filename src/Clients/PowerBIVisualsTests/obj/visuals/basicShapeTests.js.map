{"version":3,"sources":["visuals/basicShapeTests.ts"],"names":["powerbitests","powerbitests.BasicShapeHelpers","powerbitests.BasicShapeHelpers.getRotateFromStyle","powerbitests.BasicShapeHelpers.buildUpdateOptions"],"mappings":"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","file":"visuals/basicShapeTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import BasicShapeVisual = powerbi.visuals.BasicShapeVisual;\r\n    import basicShapeCapabilities = powerbi.visuals.basicShapeCapabilities;\r\n\r\n    module BasicShapeHelpers {\r\n        const RotateTransformStyleRegex = /transform: rotate\\((\\d+)deg\\)/g;\r\n\r\n        export function getRotateFromStyle(rotatedElement: JQuery): number {\r\n            let style = rotatedElement.attr('style');\r\n            let rotate = RotateTransformStyleRegex.exec(style);\r\n            return parseInt(rotate[1], 10);\r\n        };\r\n\r\n        export function buildUpdateOptions(viewport: powerbi.IViewport, objects: powerbi.DataViewObjects): powerbi.VisualUpdateOptions {\r\n            return {\r\n                viewport: viewport,\r\n                dataViews: [{\r\n                    metadata: {\r\n                        columns: [],\r\n                        objects: objects,\r\n                    }\r\n                }],\r\n            };\r\n        };\r\n    }\r\n\r\n    describe(\"basicShape Tests\", () => {\r\n\r\n        it('registered capabilities', () => {\r\n            let pluginCapabilities = powerbi.visuals.visualPluginFactory.create().getPlugin('basicShape').capabilities;\r\n            expect(pluginCapabilities.toString()).toBe(basicShapeCapabilities.toString());\r\n        });\r\n\r\n        it(\"capabilities should suppressDefaultTitle\", () => {\r\n            expect(basicShapeCapabilities.suppressDefaultTitle).toBe(true);\r\n        });\r\n\r\n        it('registered capabilities: objects', () => {\r\n            expect(powerbi.visuals.visualPluginFactory.create().getPlugin('basicShape').capabilities.objects).toBeDefined();\r\n        });\r\n\r\n        it('capabilities should suppressDefaultPadding', () => {\r\n            expect(basicShapeCapabilities.suppressDefaultPadding).toBeTruthy();\r\n        });\r\n\r\n        describe('rendering', () => {\r\n            let element: JQuery;\r\n            let viewport: powerbi.IViewport;\r\n            let options: powerbi.VisualInitOptions;\r\n            let basicShape: BasicShapeVisual;\r\n\r\n            beforeEach(() => {\r\n                element = powerbitests.helpers.testDom('200', '300');\r\n                viewport = {\r\n                    height: element.height(),\r\n                    width: element.width()\r\n                };\r\n                options = {\r\n                    element: $(element[0]),\r\n                    host: mocks.createVisualHostServices(),\r\n                    style: powerbi.visuals.visualStyles.create(),\r\n                    viewport: viewport,\r\n                    animation: {\r\n                        transitionImmediate: true\r\n                    },\r\n                };\r\n\r\n                basicShape = new BasicShapeVisual();\r\n                basicShape.init(options);\r\n            });\r\n\r\n            it('no visual configuration', () => {\r\n                expect(element.children().length).toBe(0);\r\n            });\r\n\r\n            it('default shape', () => {\r\n                let visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {});\r\n                basicShape.update(visualUpdateOptions);\r\n\r\n                //Verifying the DOM\r\n                let rect = element.find('rect');\r\n\r\n                helpers.assertColorsMatch(rect.css('stroke'), BasicShapeVisual.DefaultStrokeColor); // lineColor\r\n                helpers.assertColorsMatch(rect.css('fill'), BasicShapeVisual.DefaultFillColor); // fillColor\r\n                expect(rect.css('fill-opacity')).toBe((BasicShapeVisual.DefaultFillTransValue / 100).toString()); // shapeTransparency\r\n            });\r\n\r\n            it('rect', () => {\r\n                let visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {\r\n                    general: { shapeType: 'rectangle' },\r\n                    line: { lineColor: { solid: { color: '#00b8ad' } }, transparency: 75, weight: 15 },\r\n                    fill: { transparency: 65, fillColor: { solid: { color: '#e6e6e4' } } },\r\n                });\r\n                basicShape.update(visualUpdateOptions);\r\n\r\n                //Verifying the DOM\r\n                let rect = element.find('rect');\r\n                helpers.assertColorsMatch(rect.css('stroke'), \"#00b8ad\"); // lineColor\r\n                helpers.assertColorsMatch(rect.css('fill'), \"#e6e6e4\"); // fillColor\r\n                expect(rect.css('stroke-opacity')).toBe(\"0.75\"); // lineTransparency\r\n                expect(rect.css('stroke-width')).toBe(\"15px\"); // weight\r\n                expect(rect.css('fill-opacity')).toBeCloseTo(\"0.65\", 1); // shapeTransparency\r\n            });\r\n\r\n            it('revert to default', () => {\r\n                let visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {\r\n                    general: { shapeType: 'rectangle' },\r\n                    line: { lineColor: { solid: { color: '#00b8ad' } }, transparency: 75, weight: 15 },\r\n                    fill: { transparency: 65, fillColor: { solid: { color: '#e6e6e4' } } },\r\n                });\r\n                basicShape.update(visualUpdateOptions);\r\n\r\n                //Verifying the DOM\r\n                let rect = element.find('rect');\r\n                helpers.assertColorsMatch(rect.css('stroke'), \"#00b8ad\"); // lineColor\r\n                helpers.assertColorsMatch(rect.css('fill'), \"#e6e6e4\"); // fillColor\r\n                expect(rect.css('stroke-opacity')).toBe(\"0.75\"); // lineTransparency\r\n                expect(rect.css('stroke-width')).toBe(\"15px\"); // weight\r\n                expect(rect.css('fill-opacity')).toBeCloseTo(\"0.65\", 1); // shapeTransparency\r\n\r\n                visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {\r\n                    general: { shapeType: 'rectangle' },\r\n                });\r\n                basicShape.update(visualUpdateOptions);\r\n                rect = element.find('rect');\r\n                helpers.assertColorsMatch(rect.css('stroke'), \"#00B8AA\"); // lineColor\r\n                helpers.assertColorsMatch(rect.css('fill'), '#E6E6E6'); // fillColor\r\n                expect(rect.css('stroke-opacity')).toBe('1'); // lineTransparency\r\n                expect(rect.css('stroke-width')).toBe(\"3px\"); // weight\r\n                expect(rect.css('fill-opacity')).toBe('1'); // shapeTransparency\r\n            });\r\n\r\n            it('Fill card is not shown on line shape type', () => {\r\n                let visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {\r\n                    general: { shapeType: 'line' },\r\n                    line: { lineColor: { solid: { color: '#00b8ad' } }, transparency: 75, weight: 15 },\r\n                    fill: { transparency: 65, fillColor: { solid: { color: '#e6e6e4' } } }\r\n                });\r\n                basicShape.update(visualUpdateOptions);\r\n                let options = { objectName: 'line' };\r\n                let result = basicShape.enumerateObjectInstances(options);\r\n                expect(result.length).toBe(1);\r\n                options = { objectName: 'fill' };\r\n                result = basicShape.enumerateObjectInstances(options);\r\n                expect(result.length).toBe(0);\r\n            });\r\n            \r\n            it('rect with rotation', () => {\r\n                let rotation = 270;\r\n\r\n                let visualUpdateOptions = BasicShapeHelpers.buildUpdateOptions(viewport, {\r\n                    rotation: { angle: rotation },\r\n                });\r\n                basicShape.update(visualUpdateOptions);\r\n\r\n                //Verifying the DOM\r\n                let rect = element.find('rect');\r\n                let rotator = rect.parents('div[style*=transform]').eq(0);\r\n                expect(BasicShapeHelpers.getRotateFromStyle(rotator)).toBe(270);\r\n            });\r\n        });\r\n    });\r\n}\r\n"],"sourceRoot":"/source/"}