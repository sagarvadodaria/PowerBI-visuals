{"version":3,"sources":["visuals/services/colorAllocatorFactoryTests.ts"],"names":["powerbitests"],"mappings":"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","file":"visuals/services/colorAllocatorFactoryTests.js","sourcesContent":["/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *   \r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *   \r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\n\r\n\r\nmodule powerbitests {\r\n    import visuals = powerbi.visuals;\r\n\r\n    describe(\"ColorAllocatorFactory - linear gradient two colors\", () => {\r\n        let colorer: powerbi.IColorAllocator;\r\n\r\n        beforeEach(() => {\r\n            colorer = visuals.createColorAllocatorFactory().linearGradient2({\r\n                min: { value: 100, color: \"#ff0000\" },\r\n                max: { value: 200, color: \"#0000ff\" }\r\n            });\r\n        });\r\n\r\n        it(\"LinearGradient2: min value\", () => {\r\n            helpers.assertColorsMatch(colorer.color(100), \"#ff0000\");\r\n        });\r\n\r\n        it(\"LinearGradient2: max value\", () => {\r\n            helpers.assertColorsMatch(colorer.color(200), \"#0000ff\");\r\n        });\r\n\r\n        it(\"LinearGradient2: mid value\", () => {\r\n            helpers.assertColorsMatch(colorer.color(150), \"#800080\");\r\n        });\r\n\r\n        it(\"LinearGradient2: intermediate value\", () => {\r\n            helpers.assertColorsMatch(colorer.color(120), \"#cc0033\");\r\n        });\r\n\r\n        it(\"LinearGradient2 clamping - test values outside the range\", () => {\r\n            helpers.assertColorsMatch(colorer.color(90), \"#ff0000\");\r\n            helpers.assertColorsMatch(colorer.color(220), \"#0000ff\");\r\n        });\r\n\r\n    });\r\n\r\n    describe(\"ColorAllocatorFactory - linear gradient three colors\", () => {\r\n        let defaultColorer: powerbi.IColorAllocator;\r\n        let options: powerbi.LinearGradient3;\r\n\r\n        beforeEach(() => {\r\n            options = {\r\n                min: { value: 100, color: \"#ff0000\" },\r\n                mid: { value: 150, color: \"#ffffff\" },\r\n                max: { value: 200, color: \"#0000ff\" }\r\n            };\r\n\r\n            defaultColorer = visuals.createColorAllocatorFactory().linearGradient3(options, false);\r\n        });\r\n\r\n        it(\"LinearGradient3: min value\", () => {\r\n            helpers.assertColorsMatch(defaultColorer.color(100), \"#ff0000\");\r\n        });\r\n\r\n        it(\"LinearGradient3: max value\", () => {\r\n            helpers.assertColorsMatch(defaultColorer.color(200), \"#0000ff\");\r\n        });\r\n\r\n        it(\"LinearGradient3: mid value\", () => {\r\n            options.mid.value = 170;\r\n            let colorer = visuals.createColorAllocatorFactory().linearGradient3(options, false);\r\n\r\n            helpers.assertColorsMatch(colorer.color(170), \"#ffffff\");\r\n        });\r\n\r\n        it(\"LinearGradient3: intermediate value\", () => {\r\n            options.mid.value = 176;\r\n            let colorer = visuals.createColorAllocatorFactory().linearGradient3(options, false);\r\n\r\n            helpers.assertColorsMatch(colorer.color(178), \"#eaeaff\");\r\n        });\r\n\r\n        it(\"LinearGradient3: between min & mid\", () => {\r\n            options.mid.value = 176;\r\n            let colorer = visuals.createColorAllocatorFactory().linearGradient3(options, false);\r\n\r\n            helpers.assertColorsMatch(colorer.color(170), \"#ffebeb\");\r\n        });\r\n\r\n        it(\"LinearGradient3 clamping - test values outside the range\", () => {\r\n            helpers.assertColorsMatch(defaultColorer.color(0), \"#ff0000\");\r\n            helpers.assertColorsMatch(defaultColorer.color(300), \"#0000ff\");\r\n        });\r\n\r\n        it(\"LinearGradient3: splitted scales\", () => {\r\n            let colorer = visuals.createColorAllocatorFactory().linearGradient3({\r\n                min: { value: -50, color: \"#ffff00\" },\r\n                mid: { value: 0, color: \"#ffffff\" },\r\n                max: { value: 2000, color: \"#0000ff\" }\r\n            }, true);\r\n\r\n            helpers.assertColorsMatch(colorer.color(-50), \"#ffff00\");\r\n            helpers.assertColorsMatch(colorer.color(-25), \"#ffff80\");\r\n            helpers.assertColorsMatch(colorer.color(0), \"#ffffff\");\r\n            helpers.assertColorsMatch(colorer.color(1000), \"#8080ff\");\r\n            helpers.assertColorsMatch(colorer.color(2000), \"#0000ff\");\r\n        });\r\n    });\r\n}"],"sourceRoot":"/source/"}